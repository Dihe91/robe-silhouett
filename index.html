<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silhouett. | Boutique Officielle Paris</title>
    
    <!-- Scripts pour faire fonctionner React sans installation complexe -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Polices Premium -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Noto+Sans+Arabic:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #ffffff; color: #1a1a1a; overflow-x: hidden; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .font-arabic { font-family: 'Noto Sans Arabic', sans-serif; }
        
        /* Animations fluides */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fadeIn 1s ease-out forwards; }
        
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .animate-slide-up { animation: slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        /* Masquer la scrollbar */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

        .image-transition { transition: opacity 0.7s ease-in-out; }
        
        /* Protection pour le clic sur les icônes */
        svg { pointer-events: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONES SVG ---
        const Icons = {
            Menu: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>,
            Bag: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>,
            X: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Check: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3"><polyline points="20 6 9 17 4 12"/></svg>,
            Globe: () => <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
        };

        const TRANSLATIONS = {
            fr: {
                home: "Accueil", cart: "Panier", newSeason: "Nouvelle Collection", heroTitle: "Robe Stretch Minuit",
                discover: "Découvrir", size: "Taille", guide: "Guide des tailles", description: "Description",
                color: "Couleur", addToCart: "Ajouter au panier", buyNow: "Acheter maintenant", added: "Ajouté !",
                total: "TOTAL", checkout: "Finaliser la commande", empty: "Votre panier est vide",
                remove: "Supprimer", outOfStock: "Rupture de stock", colors: { black: "Noir", green: "Vert", orange: "Orange" }
            },
            en: {
                home: "Home", cart: "Cart", newSeason: "New Collection", heroTitle: "Midnight Stretch Dress",
                discover: "Discover", size: "Size", guide: "Size Guide", description: "Description",
                color: "Color", addToCart: "Add to cart", buyNow: "Buy now", added: "Added",
                total: "TOTAL", checkout: "Checkout", empty: "Your cart is empty",
                remove: "Remove", outOfStock: "Out of stock", colors: { black: "Black", green: "Green", orange: "Orange" }
            },
            es: {
                home: "Inicio", cart: "Cesta", newSeason: "Nueva Colección", heroTitle: "Vestido Stretch Medianoche",
                discover: "Descubrir", size: "Talla", guide: "Guía de tallas", description: "Descripción",
                color: "Color", addToCart: "Añadir a la cesta", buyNow: "Comprar ahora", added: "Añadido",
                total: "TOTAL", checkout: "Tramitar pedido", empty: "Tu cesta está vacía",
                remove: "Eliminar", outOfStock: "Agotado", colors: { black: "Negro", green: "Verde", orange: "Naranja" }
            },
            ar: {
                home: "الرئيسية", cart: "السلة", newSeason: "مجموعة جديدة", heroTitle: "فستان منتصف الليل",
                discover: "اكتشف", size: "المقاس", guide: "دليل المقاسات", description: "الوصف",
                color: "اللون", addToCart: "أضف إلى السلة", buyNow: "اشترِ الآن", added: "تمت الإضافة",
                total: "الإجمالي", checkout: "إتمام الطلب", empty: "السلة فارغة",
                remove: "حذف", outOfStock: "نفذت الكمية", colors: { black: "أسود", green: "أخضر", orange: "برتقالي" }
            }
        };

        const VARIANTS = {
            black: { hex: "#1a1a1a", mainImage: "https://images.unsplash.com/photo-1539008835657-9e8e9680c956?auto=format&fit=crop&w=800", stock: ["XS", "S", "M", "XL"] },
            green: { hex: "#2d4a3e", mainImage: "https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?auto=format&fit=crop&w=800", stock: ["S", "M", "L"] },
            orange: { hex: "#d66a42", mainImage: "https://images.unsplash.com/photo-1595777457583-95e059d581b8?auto=format&fit=crop&w=800", stock: ["M", "L", "XL"] }
        };

        function App() {
            const [view, setView] = useState('home');
            const [cart, setCart] = useState([]);
            const [lang, setLang] = useState('fr');
            const [selectedVariant, setSelectedVariant] = useState('black');
            const [selectedSize, setSelectedSize] = useState(null);
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [isAdding, setIsAdding] = useState(false);

            const t = TRANSLATIONS[lang] || TRANSLATIONS.fr;
            const variant = VARIANTS[selectedVariant];
            const isRTL = lang === 'ar';

            useEffect(() => {
                const handleScroll = () => {
                    setScrolled(window.scrollY > 50);
                    const progress = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
                    const bar = document.getElementById('progress-bar');
                    if (bar) bar.style.width = `${progress}%`;
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const addToCart = (redirect = false) => {
                if (!selectedSize) return;
                setCart([...cart, { ...variant, size: selectedSize, id: Date.now(), colorName: t.colors[selectedVariant] }]);
                if (redirect) {
                    setView('cart');
                } else {
                    setIsAdding(true);
                    setTimeout(() => setIsAdding(false), 2000);
                }
            };

            return (
                <div className={`min-h-screen flex flex-col ${isRTL ? 'font-arabic' : ''}`} dir={isRTL ? 'rtl' : 'ltr'}>
                    <div id="progress-bar" className="fixed top-0 left-0 h-[2px] bg-black z-[200] transition-all duration-100" style={{width: '0%'}}></div>

                    {/* HEADER */}
                    <header className={`fixed top-0 w-full z-[150] px-6 py-6 flex justify-between items-center transition-all duration-500 ${scrolled || view === 'cart' ? 'bg-white/95 backdrop-blur-md shadow-sm py-4 text-black' : 'bg-transparent text-white'}`}>
                        <div className="flex items-center gap-2">
                            {/* Bouton Menu Agrandi (Hitbox) */}
                            <button 
                                type="button"
                                onClick={() => { console.log("Menu click"); setIsMenuOpen(true); }} 
                                className="p-4 -m-4 hover:opacity-70 transition-transform active:scale-90"
                            >
                                <Icons.Menu />
                            </button>
                            <div className="relative group cursor-pointer text-[10px] font-bold uppercase tracking-widest hidden md:flex items-center gap-1 ml-6">
                                <Icons.Globe /> {lang.toUpperCase()}
                                <div className={`absolute top-full pt-2 ${isRTL ? 'right-0' : 'left-0'} hidden group-hover:block animate-fade-in`}>
                                    <div className="bg-white text-black shadow-2xl py-2 w-20 border border-gray-100">
                                        {['fr', 'en', 'es', 'ar'].map(l => (
                                            <p key={l} onClick={() => setLang(l)} className="px-4 py-2 hover:bg-gray-50 transition-colors uppercase cursor-pointer">{l}</p>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <h1 onClick={() => setView('home')} className="text-3xl md:text-5xl font-serif font-bold uppercase tracking-tighter cursor-pointer absolute left-1/2 -translate-x-1/2">
                            Silhouett.
                        </h1>

                        <div onClick={() => setView('cart')} className="flex items-center gap-1 cursor-pointer hover:opacity-70 relative transition-transform active:scale-90">
                            <Icons.Bag />
                            <span className="text-[10px] font-bold">({cart.length})</span>
                        </div>
                    </header>

                    <main className="flex-grow">
                        {view === 'home' ? (
                            <div className="animate-fade-in">
                                <section className="h-[95vh] relative overflow-hidden flex items-center justify-center bg-gray-100">
                                    <img src={variant.mainImage} className="absolute inset-0 w-full h-full object-cover transition-all duration-1000 image-transition" alt="Hero" />
                                    <div className="absolute inset-0 bg-black/10"></div>
                                    <div className="relative z-10 text-center text-white px-6">
                                        <h2 className="text-6xl md:text-[9rem] font-serif font-bold uppercase leading-[0.85] tracking-tighter mb-12 animate-slide-up">
                                            {t.heroTitle.split(' ').map((word, i) => <span key={i} className="block">{word}</span>)}
                                        </h2>
                                        <button onClick={() => document.getElementById('shop').scrollIntoView({behavior:'smooth'})} className="px-12 py-5 border-2 border-white text-[11px] font-bold uppercase tracking-[0.3em] hover:bg-white hover:text-black transition-all">
                                            {t.discover}
                                        </button>
                                    </div>
                                </section>

                                <div id="shop" className="max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-20 py-32">
                                    <div className="sticky top-32 h-fit">
                                        <img src={variant.mainImage} className="w-full shadow-2xl rounded-sm transition-all duration-700" alt="Product" />
                                    </div>
                                    <div className="flex flex-col justify-center">
                                        <h3 className="text-5xl font-serif font-bold uppercase mb-4 tracking-tighter">La Robe Stretch</h3>
                                        <p className="text-3xl mb-12 font-light text-gray-500">29.99 EUR</p>
                                        
                                        <p className="text-[11px] font-bold uppercase mb-6 tracking-widest text-gray-400">{t.color} : {t.colors[selectedVariant]}</p>
                                        <div className="flex gap-5 mb-14">
                                            {Object.keys(VARIANTS).map(k => (
                                                <button key={k} onClick={() => {setSelectedVariant(k); setSelectedSize(null);}} 
                                                    className={`w-12 h-12 rounded-full border-2 transition-all duration-300 ${selectedVariant === k ? 'border-black scale-110 shadow-lg' : 'border-transparent opacity-40 hover:opacity-100'}`}
                                                    style={{backgroundColor: VARIANTS[k].hex}} />
                                            ))}
                                        </div>

                                        <p className="text-[11px] font-bold uppercase mb-6 tracking-widest text-gray-400">{t.size}</p>
                                        <div className="grid grid-cols-5 gap-3 mb-14">
                                            {["XS", "S", "M", "L", "XL"].map(s => {
                                                const inStock = variant.stock.includes(s);
                                                return (
                                                    <button key={s} disabled={!inStock} onClick={() => setSelectedSize(s)}
                                                        className={`py-5 border text-[11px] font-bold transition-all ${selectedSize === s ? 'bg-black text-white border-black shadow-lg scale-105' : !inStock ? 'opacity-10 cursor-not-allowed' : 'hover:border-black'}`}>{s}</button>
                                                );
                                            })}
                                        </div>

                                        <div className="flex flex-col gap-4">
                                            <button onClick={() => addToCart(false)} disabled={!selectedSize} 
                                                className={`w-full py-6 text-[11px] font-bold uppercase tracking-[0.3em] transition-all duration-500 border-2 flex items-center justify-center gap-2 ${isAdding ? 'bg-green-600 border-green-600 text-white' : 'bg-white border-black text-black hover:bg-black hover:text-white disabled:opacity-30'}`}>
                                                {isAdding ? <><Icons.Check /> {t.added}</> : t.addToCart}
                                            </button>
                                            <button onClick={() => addToCart(true)} disabled={!selectedSize} 
                                                className="w-full py-6 bg-black text-white text-[11px] font-bold uppercase tracking-[0.3em] hover:opacity-80 transition disabled:opacity-30 shadow-xl">
                                                {t.buyNow}
                                            </button>
                                        </div>

                                        <div className="mt-20 pt-10 border-t border-gray-100">
                                            <p className="text-[10px] font-bold uppercase tracking-widest mb-4 text-gray-400">{t.description}</p>
                                            <p className="text-sm leading-relaxed text-gray-600 font-light italic">"Une coupe minimale conçue pour sublimer la ligne sans jamais contraindre le mouvement. Tissu micro-extensible haute performance."</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ) : (
                            <div className="max-w-4xl mx-auto px-6 py-48 text-center animate-fade-in min-h-[70vh]">
                                <h2 className="text-6xl font-serif font-bold uppercase mb-16 border-b border-black pb-10 tracking-tighter">{t.cart}</h2>
                                {cart.length === 0 ? (
                                    <div className="py-20">
                                        <p className="text-gray-400 uppercase tracking-widest text-xs mb-10">{t.empty}</p>
                                        <button onClick={() => setView('home')} className="px-12 py-5 bg-black text-white text-[11px] font-bold uppercase tracking-widest hover:opacity-80 transition">Retour à la collection</button>
                                    </div>
                                ) : (
                                    <div className="space-y-12">
                                        {cart.map(item => (
                                            <div key={item.id} className="flex justify-between items-center border-b border-gray-50 pb-10 group">
                                                <div className="flex items-center gap-8 text-left">
                                                    <img src={item.mainImage} className="w-24 h-32 object-cover rounded-sm shadow-md" alt="" />
                                                    <div>
                                                        <p className="font-bold uppercase text-lg tracking-tighter">Robe Minuit</p>
                                                        <p className="text-[10px] text-gray-400 uppercase tracking-widest mt-1">{t.size} : {item.size} • {item.colorName}</p>
                                                    </div>
                                                </div>
                                                <div className="text-right">
                                                    <p className="font-bold text-xl">29.99€</p>
                                                    <button onClick={() => setCart(cart.filter(i => i.id !== item.id))} className="text-[9px] text-red-500 uppercase font-bold mt-4 hover:underline">Retirer</button>
                                                </div>
                                            </div>
                                        ))}
                                        <div className="flex justify-between text-3xl font-bold py-10 border-t border-black mt-10">
                                            <span className="font-serif italic text-gray-300 tracking-widest uppercase text-xs self-center font-normal">{t.total}</span>
                                            <span className="font-serif">{(cart.length * 29.99).toFixed(2)}€</span>
                                        </div>
                                        <button onClick={() => {alert("Transaction initiée..."); setCart([]); setView('home');}} className="w-full py-6 bg-black text-white font-bold uppercase text-[11px] tracking-[0.4em] hover:bg-gray-900 transition-all shadow-2xl">
                                            {t.checkout}
                                        </button>
                                    </div>
                                )}
                            </div>
                        )}
                    </main>

                    {/* FOOTER */}
                    <footer className="py-24 border-t border-gray-50 text-center bg-white">
                        <h2 className="text-4xl font-serif font-bold uppercase tracking-tighter mb-10">Silhouett.</h2>
                        <div className="flex justify-center space-x-12 text-[10px] font-bold uppercase text-gray-300 tracking-[0.4em]">
                           <a href="#" className="hover:text-black transition-colors">Instagram</a>
                           <a href="#" className="hover:text-black transition-colors">Contact</a>
                           <button onClick={() => {setView('home'); window.scrollTo(0,0);}} className="hover:text-black transition-colors uppercase">Légal</button>
                        </div>
                        <p className="mt-16 text-[9px] text-gray-200 uppercase tracking-[0.5em]">Studio Paris • Avenue Montaigne • 2026</p>
                    </footer>

                    {/* MENU LATÉRAL CORRIGÉ */}
                    {isMenuOpen && (
                        <div className="fixed inset-0 z-[200] bg-black/40 backdrop-blur-sm transition-all" onClick={() => setIsMenuOpen(false)}>
                            <div className={`absolute top-0 ${isRTL ? 'right-0' : 'left-0'} h-full w-[350px] bg-white p-14 flex flex-col shadow-2xl animate-fade-in`} onClick={e => e.stopPropagation()}>
                                <button className="self-end mb-24 transition-transform hover:rotate-90 p-4 -m-4" onClick={() => setIsMenuOpen(false)}>
                                    <Icons.X />
                                </button>
                                <div className={`space-y-12 text-5xl font-serif uppercase tracking-tighter ${isRTL ? 'text-right' : 'text-left'}`}>
                                    <button onClick={() => {setView('home'); setIsMenuOpen(false);}} className="block hover:translate-x-4 transition-transform hover:italic">Collection</button>
                                    <button onClick={() => {setView('home'); setIsMenuOpen(false);}} className="block hover:translate-x-4 transition-transform hover:italic text-gray-200">Archives</button>
                                </div>
                                <div className="mt-auto pt-10 border-t border-gray-100 flex gap-4 text-[11px] font-bold uppercase tracking-widest">
                                    {['fr', 'en', 'es', 'ar'].map(l => (
                                        <button key={l} onClick={() => setLang(l)} className={`${lang === l ? 'text-black' : 'text-gray-300 hover:text-black'}`}>{l}</button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
